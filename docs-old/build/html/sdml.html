<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The Simple Data Markup Language &#8212; Simple Data Transfer Protocol 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Simple Data Query Language" href="sdql.html" />
    <link rel="prev" title="The Simple Data Transfer Protocol" href="sdtp.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="the-simple-data-markup-language">
<h1>The Simple Data Markup Language<a class="headerlink" href="#the-simple-data-markup-language" title="Link to this heading">¶</a></h1>
<p>The Simple Data Markup Language (SDML) is a language for capturing and linking tabular data.  It is designed to do for tabular data what HTML did for documents.  However, while HTML documents are primarily designed for human consumption, SDML Tables are primarily designed for machine access.</p>
<p>In SDML, the unit is the <em>table</em>.  Each SDML document describes a <em>single</em> table.
A table is a (potentially infinite) list of fixed-length records.  Each record is called a <em>row</em>.  An SDML table is equivalent to:</p>
<ul class="simple">
<li><p>A PANDAS Dataframe</p></li>
<li><p>A SQL database table</p></li>
<li><p>A specific form of CSV file where</p>
<ul>
<li><p>The data are in the rows of the CSV file</p></li>
<li><p>The rows of the CSV file are all the same length</p></li>
<li><p>The type of the entries in any column of the CSV file are the same as all the other entries</p></li>
</ul>
</li>
<li><p>A single spreadsheet tab with the same restrictions as the CSV file.</p></li>
</ul>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<p>The following example shows the key features of SDML.  This table is taken from Florence’ Nightingale’s famous 1854-1855 dataset investigating the causes of death in the Crimean War</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;RowTable&quot;</span><span class="p">,</span>
  <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Month_number&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Date&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Army&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Disease&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Wounds&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Other&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Disease.rate&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Wounds.rate&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Other.rate&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;1854-04-01&quot;</span><span class="p">,</span> <span class="mi">1854</span><span class="p">,</span> <span class="s2">&quot;Apr&quot;</span><span class="p">,</span> <span class="mi">8571</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
    <span class="o">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This file describes a tablewith 11 columns and one row per month.   Each row in <code class="docutils literal notranslate"><span class="pre">row</span></code> section of the table has exactly 11 entries, and the type of the kth column lines up with the type of the kth row.</p>
</section>
<section id="sdml-table-structure">
<h2>SDML Table Structure<a class="headerlink" href="#sdml-table-structure" title="Link to this heading">¶</a></h2>
<p>Each SDML table  is a dictionary, with the following fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">schema</span></code>: this is a list of objects, each of which <em>must</em> have two fields:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: a string with the name of the column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: the type of the column, which is one of the supported SDML types (see below)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: this is a string, which describes the <em>type</em> of the table.  The type is the source of the table rows; see the list of supported table types below.  The type of the table determines the remaining fields in the table dictionary.</p></li>
</ul>
<p>Note that the top level, <code class="docutils literal notranslate"> </code>schema` entries all admit the possibility of non-required fields, which are open to convention for specific purposes.  One common purpose is metadata of various sorts: the units for a specific column; column relationships (e.g., one column is an error bar for another); collection method or purpose of a table; etc.  While it is assumed that these additional fields will in general be strings, there is no requirement that they be strings.</p>
<section id="table-types">
<h3>Table Types<a class="headerlink" href="#table-types" title="Link to this heading">¶</a></h3>
<p>A table type describes  the source of the rows of the table.  The goal of SDML is to capture the ways that data today is represented.  These include:</p>
<ul class="simple">
<li><p>Direct representation</p></li>
<li><p>CSV Files</p></li>
<li><p>xlsx files</p></li>
<li><p>Google sheets
Further, SDML not only supports local SDML files, but also remote files at the remote end of an HTTP download link or Simple Data Transfer Protocol (SDTP) link.</p></li>
</ul>
<section id="rowtable">
<h4>RowTable<a class="headerlink" href="#rowtable" title="Link to this heading">¶</a></h4>
<p>A <em>RowTable</em> is the simplest form of SDML Table; it is given by a single dictionary entry <code class="docutils literal notranslate"><span class="pre">rows</span></code>, which gives a list of lists of SDML values (see below).  In a RowTable, the rows of the table are directly represented in the SDML file.</p>
</section>
<section id="remotetable">
<h4>RemoteTable<a class="headerlink" href="#remotetable" title="Link to this heading">¶</a></h4>
<p>A <em>RemoteTable</em>  is an SDML Table hosted on a remote Simple Data Transfer Protocol server and is directly queried from there.  It has three dictionary items beyond the “type” and “schema” fields required of all tables:</p>
<ul class="simple">
<li><p><em>name</em>, required: the name of the table on the remote server</p></li>
<li><p><em>url</em>, required: the URL of the remote SDTP server</p></li>
<li><p><em>headers</em>, optional: a dictionary of header variables and values that accompanies an SDTP request on this table.  This is typically used for authentication information.  An example remote table is given here:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;RemoteTable&quot;</span><span class="p">,</span>
  <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Democratic&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Republican&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;number&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Other&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;number&quot;</span><span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;electoral_college&quot;</span>
  <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://sdtp-data-wiki-new-lrbsxicfna-uw.a.run.app&quot;</span>
<span class="p">}</span>

</pre></div>
</div>
</section>
<section id="filetable">
<h4>FileTable<a class="headerlink" href="#filetable" title="Link to this heading">¶</a></h4>
<p>It’s often desirable to store the schema from a table separately from the table’s data.  This is particularly the case when the server stores a lot of tables, and/or the table’s data is particularly large.    A FileTable is simply a link to an
SDMLTable which resides in a  separate file.  It has one dictionary item beyond
the type and schema fields:</p>
<ul class="simple">
<li><p><em>path</em>, required: a path to the SDML file table.
Note the file must be an SDML file, such as a file containing a <em>RowTable</em></p></li>
</ul>
</section>
<section id="gcstable">
<h4>GCSTable<a class="headerlink" href="#gcstable" title="Link to this heading">¶</a></h4>
<p>A GCSTable is a table stored as a blob  in Google Cloud Storage.  It has two dictionary item beyond
the type and schema fields:</p>
<ul class="simple">
<li><p><em>bucket</em>, required: the GCS bucket that the blob is stored in</p></li>
<li><p><em>blob</em>, required: the name of the blob.
Note the blob must be an SDML file, such as a file containing a <em>RowTable</em>
Loading of GCS Tables
<em>NB</em>: The GCS Table constructor allocates a client from Google Cloud Storage’s Client library.  This will use the <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> environment variable for authorization.  Users of the GCSTable should provide appropriate credentials to read the bucket of interest.</p></li>
</ul>
</section>
<section id="httptable">
<h4>HTTPTable<a class="headerlink" href="#httptable" title="Link to this heading">¶</a></h4>
<p>An HTTPTable is a table stored as a JSON file at an URL.  It has one  dictionary item beyond
the type and schema fields:</p>
<ul class="simple">
<li><p><em>url</em>, required: the URL holding the table
Note the file must be an SDML file, such as a file containing a <em>RowTable</em>
Loading of GCS Tables</p></li>
</ul>
</section>
<section id="s3">
<h4>S3<a class="headerlink" href="#s3" title="Link to this heading">¶</a></h4>
<p>Under Construction</p>
<p>A <code class="docutils literal notranslate"><span class="pre">RemoteCSVTable</span></code> type is under consideration.</p>
<section id="further-table-types">
<h5>Further Table Types<a class="headerlink" href="#further-table-types" title="Link to this heading">¶</a></h5>
<p>Further table types are planned, under  conditions:</p>
<ul class="simple">
<li><p>There is a large body of uploaded and available data in the desired format</p></li>
<li><p>On-the-fly conversion to SDML format is robust and reliable</p></li>
<li><p>It’s easier to convert on the fly rather than generating an SDML table</p></li>
</ul>
</section>
</section>
</section>
<section id="a-note-on-tables">
<h3>A Note on Tables<a class="headerlink" href="#a-note-on-tables" title="Link to this heading">¶</a></h3>
<p>It’s important to note that SDML tables are used as an interchange format, and can be generated on demand in response to queries, much as an HTML document need not be physically resident in a repository, but can and are generated dynamically in response to queries. An SDML Table type is only required to permit a remote client to query the table itself.
It’s expected that the only table types in wide usage will be <code class="docutils literal notranslate"><span class="pre">RowTable</span></code> and <code class="docutils literal notranslate"><span class="pre">RemoteTable</span></code>.  The remaining table types are in support of legacy datasets which are not hosted by a Global Data Plane server.  In most cases, however, it’s a far better idea to stand up a GDP server, which can be tailored specifically to the hosted datasets.
For example, it’s relatively straightforward to stand up a <code class="docutils literal notranslate"><span class="pre">SQLTable</span></code> datatype, which would handle the connectivity to an underlying Postgres, MySQL, or other DB engine and simply reflect the underlying database schema.  However, database schemas reflect both the semantics of the underlying data and storage efficiencies.  The semantic schema is generally far simpler, and offers simpler queries.  Making a GDP server the interface to the database allows implementers to hide the complex layouts that arise from storage efficiencies.</p>
</section>
</section>
<section id="sdml-value-types">
<h2>SDML Value Types<a class="headerlink" href="#sdml-value-types" title="Link to this heading">¶</a></h2>
<p>SDML currently supports seven datatypes.  These types, their semantics, and JSON  wire format are given here.  The vital point about each type is that the JSON libraries in JavaScript and Python are easily able to read the values and convert them to the proper types for computation.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Wire Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>number</p></td>
<td><p>Integer or floating point decimal number</p></td>
<td><p>A number</p></td>
</tr>
<tr class="row-odd"><td><p>string</p></td>
<td><p>UTF String</p></td>
<td><p>A string</p></td>
</tr>
<tr class="row-even"><td><p>boolean</p></td>
<td><p>true or false</p></td>
<td><p>A boolean value</p></td>
</tr>
<tr class="row-odd"><td><p>date</p></td>
<td><p>A date in ISO format YYYY-MM-DD, quoted as a string value</p></td>
<td><p>A date</p></td>
</tr>
<tr class="row-even"><td><p>datetime</p></td>
<td><p>A datetime in ISO format YYYY-MM-DD#hh:mm:ss.nnn, quoted as a string value</p></td>
<td><p>A date  and time</p></td>
</tr>
<tr class="row-odd"><td><p>timeofday</p></td>
<td><p>A timestamp in ISO format hh:mm:ss.nnn, quoted as a string value</p></td>
<td><p>A  time of day</p></td>
</tr>
<tr class="row-even"><td><p>point</p></td>
<td><p>A list of numbers, of arbitrary length</p></td>
<td><p>The intent is to model an n-dimensional vector, for which there is no standard ISO format.  The dimension of the vector for a specific column is left unspecified and not checked</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Simple Data Transfer Protocol</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdtp.html">The Simple Data Transfer Protocol</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Simple Data Markup Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sdml-table-structure">SDML Table Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sdml-value-types">SDML Value Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sdql.html">The Simple Data Query Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdql.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="sdtp.html" title="previous chapter">The Simple Data Transfer Protocol</a></li>
      <li>Next: <a href="sdql.html" title="next chapter">The Simple Data Query Language</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024-2025, UC Regents.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/sdml.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>